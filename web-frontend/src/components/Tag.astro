---
interface Props {
	name: String,
	postCount?: Number
}

const { name, postCount, ...attrs } = Astro.props;
---

<a class="tag" {...attrs}>
	{name}
	{ postCount && <span class="postCount">{postCount}</span>}
</a>

<style is:global>
	.tag {
		margin: 0;
		cursor: pointer;
		width: fit-content;
		text-decoration: none;
		padding: 7.5px 12.5px;
		border-radius: var(--rounding);
		text-wrap: nowrap;
		position: relative;
		
		gap: 10px;
		display: flex;
		align-items: center;

		color: rgba(var(--primary), 0.8);
		background: rgba(var(--secondary), 0.2);
		border: 1px solid rgba(var(--accent), 0.2);

		transition: 0.1s ease-in-out;
	}

	.tag:hover {
		color: rgb(var(--primary));
		background: rgba(var(--secondary), 0.5);
		transition: 0.1s ease-in-out;
	}

	.tag .postCount { color: rgba(var(--accent), 0.5); }

	.tag.suggested {
		opacity: 0.75;
		background: linear-gradient(45deg, rgba(var(--accent), 0.2), transparent, rgba(var(--accent), 0.25));
	}

	.tag.suggested:hover {
		opacity: 1;
		background: linear-gradient(45deg, rgba(var(--accent), 0.3), transparent, rgba(var(--accent), 0.3));
	}

	.tag .tooltipText {
		position: absolute;
		color: white;
		background: rgba(var(--accent));

		max-width: 150px;
		text-wrap: wrap;
	}

	.tag.negative {
		color: rgba(var(--error), 0.85);
		background-color: rgba(var(--error), 0.15);
	}

	/* Dark mode */
	.dark .tag {
		color: rgba(var(--text), 0.5);
		border: 1px solid rgba(var(--text), 0.1);
	}
	.dark .tag:hover {
		color: rgba(var(--text), 0.8);
		border: 1px solid rgba(var(--text), 0.1);
	}

	.dark .tag .postCount { color: rgba(var(--text), 0.3); }
</style>
